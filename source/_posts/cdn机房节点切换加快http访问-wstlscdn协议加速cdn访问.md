---
title: CDN机房节点切换加快http访问--ws+TLS+CDN协议加速CDN访问。
tags:
  - CDN
  - cloud flare
  - v2Ray
  - ws+TLS+CDN
id: '660'
categories:
  - - note
date: 2019-10-31 03:43:09
---

近期10月份没怎么写文章。今天来水一发，顺便补档。  
很多人10月份左右，用的国外厂商小机都被墙了。大部分人看着YouTube，v2Ray群里。ws+TLS+CDN这种协议救活了。当然很多人都很好奇的是走的CDN为何网络一样也不算很快。  
大家一起吃蛋糕。分成N份都走圣何塞？（你觉得快到哪去，免费的cf，国外加速，国内减速不争的事实）  
说起国内三大运营商，出口地区位置都不同。绕地球一大圈。延迟能快嘛。这就需要CDN分流。大部分人用的是cloud flare的CDN产品。然而免费的自然走的就是美国圣何塞。如何换机房呢。cloud flare官网是有可以换机房的。氪金 。是的氪金给你变强。以前cloud flare注册的时候还可以摸到香港一些好一点的机房。但现在基本上都是美国圣何塞。  
既然不想花钱氪金，又想要好很多的体验。举个栗子，你小机，10M的。但是你的网络明显无法跑满10M这岂不是很难受。优等机房。很明显，简单氪金。自己单击按键就完了。  
但是既然想白嫖还想更好稳定的加速。毕竟cf免费流量。说起ws+tls这种协议走的是http。因为是网页。所以才可以CDN加速解析。（CDN曾介绍过）这里不再叙述。国内免费白嫖又拍云，小水管走腾讯，阿里。效果都蛮不赖。（你问我自建CDN？我们以后谈）  
说回来，如何找到好的cloud flare的CDN机房呢。有[链接](https://www.hostloc.com/thread-469169-1-1.html)。有了可以好用的机房，怎么换呢？继续看。  
我们如何使用其他机房呢 。白嫖的话。**cloud flare 注册计划**  
没有的人，可以在网上找找那些提供注册的注册计划的人。现在cloud flare这个审批很严格。没办法，没有以前好通过了。  
在别人的cloud flare注册计划登录你的cloud flare账号，加入对方的注册计划。将你的域名先在cloud flare移除，在别人的注册计划中录入。解析域名添加记录 得到。一个你的域名走别人计划的一个CHAME的记录解析。

我们需要http网站域名解析的时候根据不同的网络情况走不同的主机。来优化网络分发（CDN）服务，这样体验才会很好。（你无法在CDN主机里给你做动态路由表来提高你的解析优化线路）那么我们就选择另一种方式。  
这个时候，你的域名DNS解析商已经可以不用走cloud flare的了。我们将其修改为其他家的。（极其推荐腾讯下的dnspod）它拥有针对访问域名商走不通的线路。利用此功能就可以解决分配CDN机房解析的问题。  
先挪到dnspod解析。添加解析值。这里说一句。  
tips；大家域名解析普遍走的都是自己ipv4主机地址或者ipv6主机地址。走的cloud flare的解析套上CDN壳子。别人不会解析你的域名攻击到你的服务器地址。因为他ping到的是CDN分发的地址。当我们选择chame这种源为域名解析的时候。它是可以规定一个，多个A记录解析来加快你的chame解析的。

所以我们删掉原有的域名地址，A解析值。将chame作为域名的默认值。清除DNS缓存。如果ping得到的解析值是对方的cloud flare注册计划里面的chame解析值那么我们将开始下一步。  
添加@，A节点。在网络选择的地方，选择运营商解析。填入cloud flareCDN机房的IP地址。  
tips：移动的出口走的是香港，亚太地区较好延迟。比如香港，新加坡，东京。联通还是首推圣何塞。走其他的都不是很理想。电信自然就是CN2了。可以考虑欧洲。但是延迟高，不丢包稳定。具体见cloud flare CDN机房表。  
自己多去测试选择一个较好的机房。可以利用站长工具ping。来分地区看测试节点情况。  
我个人的使用就是移动的延迟降到60ms左右。稳定YouTube 1080p不卡顿（毕竟是10M）的小机。

**插入腾讯云推广广告**。（Google广告你们不点击。那个一次才3美分。那还不如国内广告推广下，你们在我的链接注册，购买腾讯云产品。我也有佣金可以拿。）死皮赖脸一波。网站没有啥收入，也就靠广告维持下。赚个零花钱。

助力产业智慧升级，云服务器首年88元起，更有千元代金券礼包免费领！ [点此访问](https://cloud.tencent.com/act/cps/redirect?redirect=1048&cps_key=8d80a5274f7ac63bba5112dbb40c5037&from=console)